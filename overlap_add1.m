x=[1 2 3 3 2 1 -1 -2 -3 5 6 -1 2 0 2 1];
h=[3 2 1 1 0 0 0];
x1=[1 2 3 3 0 0 0];
x2=[2 1 -1 -2 0 0 0];
x3=[-3 5 6 -1 0 0 0];
x4=[2 0 2 1 0 0 0];

t1=x1';
for i=1:6
    t1=[t1 circshift(x1',i)];
end
y1=(t1*h');

t2=x2';
for i=1:6
    t2=[t2 circshift(x2',i)];
end
y2=(t2*h');

t3=x3';
for i=1:6
    t3=[t3 circshift(x3',i)];
end
y3=(t3*h');

t4=x4';
for i=1:6
    t4=[t4 circshift(x4',i)];
end
y4=(t4*h');

yn=[y1(1) y1(2) y1(3) y1(4) y1(5)+y2(1) y1(6)+y2(2) y1(7)+y2(3) y2(4) y2(5)+y3(1) y2(6)+y3(2) y2(7)+y3(3) y3(4) y3(5)+y4(1) y3(6)+y4(2) y3(7)+y4(3) y4(4) y4(5) y4(6) y4(7)]

